(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{59:function(e,n,t){e.exports=t(76)},72:function(e,n,t){},75:function(e,n,t){},76:function(e,n,t){"use strict";t.r(n);t(60);var o=t(0),r=t.n(o),i=t(23),c=t.n(i),a=t(3),l=t(13),u=t(94),d=t(37),s=t(4),f=t(53);function h(){var e=Object(s.a)(["\n  background: ",";\n  cursor: pointer;\n\n  border: none;\n  outline: none;\n\n  display: flex;\n  justify-content: center;\n  align-items: center;\n\n  width: 150px;\n  height: 60px;\n  border-radius: 8px;\n\n  color: #fff;\n  font-weight: bold;\n  font-size: 18px;\n\n  :hover {\n    background: ",";\n  }\n"]);return h=function(){return e},e}var m=a.c.button(h(),(function(e){return e.theme.colors.primary}),(function(e){return Object(f.a)(.25,e.theme.colors.primary)})),v=function(e){var n=e.children,t=e.onClick;return r.a.createElement(m,{type:"button",onClick:t},n)},p=t(91),b="node",g=function(e,n,t){var o="translate3d(".concat(e,"px, ").concat(n,"px, 0)");return{position:"absolute",transform:o,WebkitTransform:o,opacity:t?0:1,height:t?0:""}},y=function(e,n){if(!e||!n)return{display:"none"};var t=n.x,o=n.y,r="translate(".concat(t,"px, ").concat(o,"px)");return{transform:r,WebkitTransform:r}},x={name:"dark",colors:{background:"#131417",backgroundSecondary:"#1E1F26",primary:"#3511B8",text:"#fff",textSecondary:"#e7dfdd",accent:"#a239ca",success:"#1B7C16",info:"#0078A8",warning:"#FCA105",danger:"#D81E1E"}},j=function(e){var n=e.from,t=n.x,o=n.y,i=e.to,c=i.x,a=i.y,l=e.markerMid;return r.a.createElement("path",{stroke:x.colors.textSecondary,strokeWidth:2,strokeLinecap:"round",markerUnits:2,d:"M".concat(t+100,",").concat(o+75,"L").concat((t+c+200)/2,",").concat((o+a+150)/2,"L").concat(c+100,",").concat(a+75),markerMid:l})},O=t(7),E=t(8),k=t(9),w=t(12),C=t(14),S=t.n(C),N=t(5),M=function(){function e(n){Object(E.a)(this,e),this.rootStore=void 0,this.connections={},this.rootStore=n}return Object(w.a)(e,[{key:"addConnection",value:function(e,n){var t="".concat(e,"|").concat(n),o=S()(this.connections,Object(k.a)({},t,{$set:{fromId:e,toId:n}}));this.connections=o}},{key:"removeConnnection",value:function(e){var n=this;this.connectionsKeys.forEach((function(t){-1!==t.indexOf(e)&&delete n.connections[t]}))}},{key:"connectionsKeys",get:function(){return Object.keys(this.connections)}}]),e}();Object(N.decorate)(M,{connections:N.observable,addConnection:N.action,removeConnnection:N.action,connectionsKeys:N.computed});var I=M,F=function(){function e(n){Object(E.a)(this,e),this.rootStore=void 0,this.file={},this.loadFileModal=!1,this.rootStore=n}return Object(w.a)(e,[{key:"setModal",value:function(e){this.loadFileModal=e}},{key:"loadFileContent",value:function(){if(this.file){var e={};this.file.connections.forEach((function(n){var t="".concat(n.fromId,"|").concat(n.toId);e=S()(e,Object(k.a)({},t,{$set:{fromId:n.fromId,toId:n.toId}}))})),this.rootStore.nodesStore.nodes=this.file.nodes,this.rootStore.connectionsStore.connections=e}}}]),e}();Object(N.decorate)(F,{file:N.observable,loadFileModal:N.observable,setModal:N.action,loadFileContent:N.action});var D=F,z=function(){function e(n){Object(E.a)(this,e),this.rootStore=void 0,this.nodes={"id:rootNode":{id:"id:rootNode",left:80,top:20,dialogueType:void 0,text:""}},this.activeNodeModal={id:"",mode:null},this.rootStore=n}return Object(w.a)(e,[{key:"updateNodePosition",value:function(e,n,t){this.nodes=S()(this.nodes,Object(k.a)({},e,{$merge:{left:n,top:t}}))}},{key:"addNode",value:function(e,n,t){var o=S()(this.nodes,Object(k.a)({},e,{$set:{left:n,top:t,id:e,dialogueType:void 0,text:""}}));this.nodes=o}},{key:"deleteNode",value:function(e){var n=this;this.nodesKeys.forEach((function(t){t===e&&delete n.nodes[e]}))}},{key:"setActiveNode",value:function(e,n){this.activeNodeModal={id:e,mode:n}}},{key:"reset",value:function(){this.nodes={"id:rootNode":{id:"id:rootNode",left:80,top:20,dialogueType:void 0,text:""}},this.rootStore.connectionsStore.connections={},this.rootStore.filesStore.file={}}},{key:"activeNode",get:function(){return this.nodes[this.activeNodeModal.id]}},{key:"activeNodeOptions",get:function(){var e=this,n=this.nodesKeys.filter((function(n){return n!==e.activeNode.id})),t=[];return n.forEach((function(e){t.push({label:e,value:e})})),t}},{key:"nodesKeys",get:function(){return Object.keys(this.nodes)}},{key:"showModal",get:function(){return""!==this.activeNodeModal.id}}]),e}();Object(N.decorate)(z,{nodes:N.observable,activeNodeModal:N.observable,updateNodePosition:N.action,addNode:N.action,setActiveNode:N.action,reset:N.action,activeNode:N.computed,activeNodeOptions:N.computed,nodesKeys:N.computed,showModal:N.computed});var A=z,T=Object(o.createContext)(new function e(){Object(E.a)(this,e),this.nodesStore=new A(this),this.connectionsStore=new I(this),this.filesStore=new D(this)}),B=t(89),K=t(90);function V(){var e=Object(s.a)(["\n  resize: none;\n  width: 100%;\n  height: 100%;\n  border: none;\n  outline: none;\n  padding: 4px;\n  color: #000;\n  font-size: 12px;\n  font-weight: 500;\n\n  border-bottom-left-radius: 8px;\n  border-bottom-right-radius: 8px;\n"]);return V=function(){return e},e}function L(){var e=Object(s.a)(["\n  width: 60%;\n  height: 100%;\n  margin: 0;\n\n  font-size: 16px;\n  font-weight: bold;\n\n  color: ",";\n"]);return L=function(){return e},e}function R(){var e=Object(s.a)(["\n  width: 100%;\n  height: 30px;\n  background: ",";\n  padding: 4px;\n\n  border-top-left-radius: 8px;\n  border-top-right-radius: 8px;\n\n  display: inline-flex;\n  flex-direction: row;\n\n  cursor: move;\n"]);return R=function(){return e},e}function P(){var e=Object(s.a)(["\n  width: 30px;\n  height: 30px;\n  color: ",";\n\n  cursor: pointer;\n  margin-left: auto;\n"]);return P=function(){return e},e}function J(){var e=Object(s.a)(["\n  width: 30px;\n  height: 30px;\n  color: ",";\n\n  cursor: pointer;\n  margin-left: 4px;\n"]);return J=function(){return e},e}function W(){var e=Object(s.a)(["\n  width: 100%;\n  height: 120px;\n\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  cursor: move;\n\n  border-bottom-left-radius: 8px;\n  border-bottom-right-radius: 8px;\n\n  background: #fefefe;\n  color: #000;\n"]);return W=function(){return e},e}function Y(){var e=Object(s.a)(["\n  width: 200px;\n  height: 150px;\n\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n"]);return Y=function(){return e},e}var $=a.c.div(Y()),U=a.c.div(W()),X=Object(a.c)(B.a)(J(),(function(e){return e.theme.colors.text})),q=Object(a.c)(K.a)(P(),(function(e){return e.theme.colors.text})),H=a.c.div(R(),(function(e){return e.theme.colors.primary})),G=a.c.h5(L(),(function(e){return e.theme.colors.text})),Q=a.c.textarea(V()),Z=Object(l.a)((function(e){var n=e.identifier,t=Object(o.useContext)(T).nodesStore,i=Object(o.useState)(t.nodes[n].text),c=Object(O.a)(i,2),a=c[0],l=c[1],u=function(){t.setActiveNode(n,"edit")};return r.a.createElement($,null,r.a.createElement(H,null,r.a.createElement(G,null,n.replace("id:","")),r.a.createElement(q,{fontSize:"small",onClick:u}),r.a.createElement(X,{fontSize:"small",onClick:function(){t.setActiveNode(n,"delete")}})),r.a.createElement(U,null,r.a.createElement(Q,{defaultValue:a,placeholder:"Dialogue Text...",onDoubleClick:u,onChange:function(e){return l(e.target.value)},onBlur:function(){t.nodes[n].text=a}})))})),_=function(e){var n=e.identifier;return r.a.createElement("div",null,r.a.createElement(Z,{identifier:n}))},ee=t(95),ne=t(44),te=function(e){var n=e.id,t=e.left,i=e.top,c=Object(ee.a)({item:{type:b,id:n,left:t,top:i},collect:function(e){return{isDragging:e.isDragging()}}}),a=Object(O.a)(c,3),l=a[0].isDragging,u=a[1],d=a[2];return Object(o.useEffect)((function(){d(Object(ne.a)(),{captureDraggingState:!0})}),[d]),r.a.createElement("div",{ref:u,style:g(t,i,l)},r.a.createElement(Z,{identifier:n}))};function oe(){var e=Object(s.a)(["\n  width: 100vw;\n  height: 90vh;\n  left: 0;\n  top: 0;\n  z-index: 100;\n  position: fixed;\n  pointer-events: none;\n"]);return oe=function(){return e},e}function re(){var e=Object(s.a)(["\n  width: 100vw;\n  height: 90vh;\n  position: relative;\n"]);return re=function(){return e},e}var ie=a.c.div(re()),ce=a.c.div(oe()),ae=function(){var e=Object(p.a)((function(e){return{item:e.getItem(),itemType:e.getItemType(),initialOffset:e.getInitialSourceClientOffset(),currentOffset:e.getSourceClientOffset(),isDragging:e.isDragging()}})),n=e.itemType,t=e.isDragging,o=e.item,i=e.initialOffset,c=e.currentOffset;return t?r.a.createElement(ce,null,r.a.createElement("div",{style:y(i,c)},function(){switch(n){case b:return r.a.createElement(_,{identifier:o.id});default:return null}}())):null},le=t(96);function ue(){var e=Object(s.a)(["\n  background: #fff;\n  border-bottom: ",";\n  padding: 5px 25px;\n\n  cursor: pointer;\n\n  :hover {\n    background: #f1f1f1;\n  }\n"]);return ue=function(){return e},e}function de(){var e=Object(s.a)(["\n  position: absolute;\n  top: ","px;\n  left: ","px;\n\n  z-index: 300;\n"]);return de=function(){return e},e}var se=a.c.div(de(),(function(e){return e.y}),(function(e){return e.x+5})),fe=a.c.div(ue(),(function(e){return e.last?null:"dotted 1px #ccc"})),he=function(e){var n=e.options,t=e.visible,i=e.changeVisibility,c=Object(o.useState)({x:0,y:0}),a=Object(O.a)(c,2),l=a[0],u=a[1],d=function(e){e.preventDefault();var n=e.clientX,t=e.clientY;u({x:n,y:t})};return Object(o.useEffect)((function(){return document.addEventListener("contextmenu",d),function(){document.removeEventListener("contextmenu",d)}}),[]),t?r.a.createElement(se,{x:l.x,y:l.y},n.map((function(e,n,t){return r.a.createElement(fe,{key:n.toString(),last:t.length-1===n,onClick:function(n){e.callback&&e.callback(n),function(e){e.preventDefault(),i(!1),u({x:0,y:0})}(n)}},e.label)}))):null},me=Object(o.memo)(Object(l.a)((function(){var e=Object(o.useContext)(T),n=e.nodesStore,t=e.connectionsStore;return r.a.createElement("svg",{width:"100%",height:"100%",style:{zIndex:400}},r.a.createElement("defs",null,r.a.createElement("marker",{id:"arrowhead",markerWidth:"10",markerHeight:"7",fill:x.colors.textSecondary,refX:"0",refY:"3.5",orient:"auto"},r.a.createElement("polygon",{points:"0 0, 10 3.5, 0 7"}))),t.connectionsKeys.length>0?t.connectionsKeys.map((function(e){var o=t.connections[e],i=n.nodes[o.fromId],c=n.nodes[o.toId];if(void 0===i||void 0===c)return null;var a={x:i.left,y:i.top},l={x:c.left,y:c.top};return r.a.createElement(j,{key:"".concat(o.fromId).concat(o.toId),from:a,to:l,markerMid:"url(#arrowhead)"})})):null)}))),ve=Object(l.a)((function(){var e=Object(o.useContext)(T),n=e.nodesStore,t=e.filesStore,i=Object(o.useState)(!1),c=Object(O.a)(i,2),a=c[0],l=c[1],u=Object(o.useState)(n.nodesKeys.length),d=Object(O.a)(u,2),s=d[0],f=d[1],h=Object(o.useCallback)((function(e,t,o){n.updateNodePosition(e,t,o)}),[n]),m=Object(le.a)({accept:b,drop:function(e,n){var t=n.getDifferenceFromInitialOffset(),o=Math.round(e.left+t.x),r=Math.round(e.top+t.y);h(e.id,o,r)}}),v=Object(O.a)(m,2)[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(he,{options:[{label:"New Node",callback:function(e){var t,o,r,i="id:node".concat(s),c=e.clientX-100,a=e.clientY-75;t=i,o=c,r=a,f(s+1),n.addNode(t,o,r)}},{label:"Load File",callback:function(){t.setModal(!0)}},{label:"Close"}],visible:a,changeVisibility:l}),r.a.createElement(ie,{ref:v,onContextMenu:function(){return l(!0)},onClick:function(){return l(!1)}},n.nodesKeys.map((function(e){return function(e,n){return r.a.createElement(te,Object.assign({key:n,id:n},e))}(n.nodes[e],e)})),r.a.createElement(me,null)))})),pe=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(ve,null),r.a.createElement(ae,null))};function be(){var e=Object(s.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n\n  width: auto;\n  height: auto;\n\n  z-index: 1000;\n"]);return be=function(){return e},e}function ge(){var e=Object(s.a)(["\n  width: 100%;\n  height: 100%;\n  position: absolute;\n\n  background: rgba(0, 0, 0, 0.6);\n"]);return ge=function(){return e},e}function ye(){var e=Object(s.a)(["\n  width: 100vw;\n  height: 100vh;\n  position: relative;\n\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"]);return ye=function(){return e},e}function xe(){var e=Object(s.a)(["\n  position: absolute;\n  background: transparent;\n  width: auto;\n  height: auto;\n\n  display: flex;\n  justify-content: center;\n  align-items: center;\n\n  z-index: 300;\n  top: 50%;\n  left: 50%;\n  margin-right: -50%;\n  transform: translate(-50%, -50%);\n"]);return xe=function(){return e},e}function je(){var e=Object(s.a)(["\n  background: rgba(10, 10, 10, 0.5);\n  width: 100vw;\n  height: 100vh;\n\n  position: absolute;\n  top: 0;\n  left: 0;\n"]);return je=function(){return e},e}a.c.div(je()),a.c.div(xe());var Oe=a.c.div(ye()),Ee=a.c.div(ge()),ke=a.c.div(be()),we=function(e){var n=e.isVisible,t=e.children,c=e.onBackdropClick,a=(e.onCloseRequest,document.getElementById("modal-root")),l=document.createElement("div");return Object(o.useEffect)((function(){return null===a||void 0===a||a.appendChild(l),function(){null===a||void 0===a||a.removeChild(l)}}),[a,l]),n?Object(i.createPortal)(r.a.createElement(Oe,null,r.a.createElement(Ee,{onClick:c}),r.a.createElement(ke,null,t)),l):null},Ce=(t(72),t(20)),Se=t(55),Ne=function(e){var n=e.name,t=e.multiple,i=e.options,c=e.placeholder,a=e.label,l=Object(o.useState)([]),u=Object(O.a)(l,2),d=u[0],s=u[1],f=Object(o.useRef)(null),h=Object(Ce.c)(n),m=h.fieldName,v=h.registerField,p=h.defaultValue;Object(o.useEffect)((function(){v({name:m,ref:f.current,getValue:function(){return t?d:d[0]},setValue:function(e,n){t||s([n])}})}),[v,m,t,d]),Object(o.useEffect)((function(){p&&t&&s(p)}),[p,t]);return t?r.a.createElement("div",{className:"select-group"},a&&r.a.createElement("label",{htmlFor:m},a),r.a.createElement(Se.a,{options:i,value:d,onChange:s,hasSelectAll:!1,labelledBy:"Select"})):r.a.createElement("div",{className:"select-group"},a&&r.a.createElement("label",{htmlFor:m},a),r.a.createElement("select",{ref:f,value:d[0],onChange:function(e){if(!t){var n=[];n.push(e.target.value),s(n)}},className:"multi-select single",placeholder:c,defaultValue:p},i.map((function(e){return r.a.createElement("option",{key:e.value,value:e.value},e.label)}))))},Me=t(40),Ie=t.n(Me),Fe=t(49),De=t(35);function ze(){var e=Object(s.a)(["\n  width: ",";\n\n  height: ",";\n"]);return ze=function(){return e},e}var Ae=a.c.div(ze(),(function(e){return"string"===typeof e.width?e.width:"".concat(e.width,"px")}),(function(e){return"string"===typeof e.height?e.height:"".concat(e.height,"px")})),Te=t(92),Be=t(93),Ke=t(50),Ve=t.n(Ke);function Le(){var e=Object(s.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n\n  width: 90px;\n  height: 100%;\n\n  padding: 8px 16px;\n  margin-right: 4px;\n"]);return Le=function(){return e},e}function Re(){var e=Object(s.a)(["\n  position: absolute;\n  z-index: 400;\n  top: 10vh;\n  left: 0;\n  width: 400px;\n  height: ",";\n\n  background: ",";\n"]);return Re=function(){return e},e}function Pe(){var e=Object(s.a)(["\n  color: white;\n  cursor: pointer;\n"]);return Pe=function(){return e},e}function Je(){var e=Object(s.a)(["\n  color: white;\n  cursor: pointer;\n"]);return Je=function(){return e},e}function We(){var e=Object(s.a)(["\n  width: 100%;\n  height: 10vh;\n  display: flex;\n  justify-content: flex-start;\n  align-items: center;\n\n  padding: 16px 32px;\n  background: ",";\n\n  font-size: 30px;\n  position: sticky;\n"]);return We=function(){return e},e}function Ye(){var e=Object(s.a)(["\n  width: 100%;\n  height: auto;\n\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n\n  padding: 16px;\n"]);return Ye=function(){return e},e}function $e(){var e=Object(s.a)(["\n  height: 100%;\n\n  display: flex;\n  justify-content: center;\n  align-items: center;\n\n  font-size: 0.8em;\n  font-weight: bold;\n\n  color: ",";\n"]);return $e=function(){return e},e}var Ue=a.c.div($e(),(function(e){return e.theme.colors.text})),Xe=a.c.div(Ye()),qe=a.c.div(We(),(function(e){return e.theme.colors.backgroundSecondary})),He=Object(a.c)(Te.a)(Je()),Ge=Object(a.c)(Be.a)(Pe()),Qe=Object(a.c)(Ve.a)(Re(),(function(e){return e.height}),(function(e){return e.theme.colors.backgroundSecondary})),Ze=Object(a.c)(De.a.div)(Le()),_e=Object(l.a)((function(){var e=Object(o.useState)(!1),n=Object(O.a)(e,2),t=n[0],i=n[1],c=Object(De.b)(t,null,{from:{position:"absolute",opacity:0},enter:{opacity:1},leave:{opacity:0}}),a=Object(o.useContext)(T),l=a.nodesStore,u=a.connectionsStore,d=a.filesStore,s=function(){var e=[];u.connectionsKeys.forEach((function(n){e.push(Object(N.toJS)(u.connections[n]))}));var n={name:"NewFile",nodes:l.nodes,connections:e};d.file=n},f=function(){var e=Object(Fe.a)(Ie.a.mark((function e(){var n,t,o,r;return Ie.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s(),n=JSON.stringify(d.file),t=new Blob([n],{type:"application/json"}),e.next=5,URL.createObjectURL(t);case 5:o=e.sent,(r=document.createElement("a")).href=o,r.download=d.file.name+".json",document.body.appendChild(r),r.click(),document.body.removeChild(r);case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),h=function(){i(!t)};return r.a.createElement(r.a.Fragment,null,r.a.createElement(qe,null,c.map((function(e){var n=e.item,t=e.key,o=e.props;return n?r.a.createElement(Ze,{key:t,style:o},r.a.createElement(Ge,{fontSize:"inherit",onClick:h})):r.a.createElement(Ze,{key:t,style:o},r.a.createElement(He,{fontSize:"inherit",onClick:h}))})),r.a.createElement(Ae,{width:32,height:"100%"}),r.a.createElement(Ue,null,"Dialogue Editor")),r.a.createElement(Qe,{height:t?"auto":0,duration:400},r.a.createElement(Xe,null,r.a.createElement(v,{onClick:function(){l.reset(),l.setActiveNode("",null)}},"Clear"),r.a.createElement(Ae,{width:"100%",height:20}),r.a.createElement(v,{onClick:f},"Download"),r.a.createElement(Ae,{width:"100%",height:20}),r.a.createElement(v,{onClick:function(){return d.setModal(!0)}},"Load File"))))})),en=t(56);t(75);function nn(){var e=Object(s.a)(["\n  position: relative;\n"]);return nn=function(){return e},e}var tn=a.c.div(nn()),on=function(e){var n=e.name,t=e.label,i=e.width,c=void 0===i?400:i,a=e.height,l=void 0===a?400:a,u=Object(en.a)(e,["name","label","width","height"]),d=Object(o.useRef)(null),s=Object(o.useRef)(null),f=Object(Ce.c)(n),h=f.fieldName,m=f.defaultValue,v=f.registerField,p=f.error;Object(o.useEffect)((function(){v({name:h,path:"value",ref:d.current})}),[h,v]);var b=function(){var e,n,t;""!==(null===(e=d.current)||void 0===e?void 0:e.value)?null===(n=s.current)||void 0===n||n.classList.add("active"):null===(t=s.current)||void 0===t||t.classList.remove("active")};return r.a.createElement(tn,{onBlur:b},r.a.createElement("textarea",Object.assign({id:h,ref:d,defaultValue:m,className:"input-control",style:{width:c,height:l},autoCorrect:"off",autoComplete:"off",onBlur:b},u)),t?r.a.createElement("label",{className:"label",htmlFor:h,ref:s},t):null,p?r.a.createElement("span",null,p):null)},rn=t(54),cn=t(52);function an(){var e=Object(s.a)(["\n  width: 100%;\n  height: 100%;\n\n  padding: 24px;\n"]);return an=function(){return e},e}function ln(){var e=Object(s.a)(["\n  width: 100%;\n  height: auto;\n\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  align-items: center;\n"]);return ln=function(){return e},e}function un(){var e=Object(s.a)(["\n  width: 100%;\n  height: auto;\n\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"]);return un=function(){return e},e}function dn(){var e=Object(s.a)(["\n  width: 100%;\n  height: 87.5%;\n\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n"]);return dn=function(){return e},e}function sn(){var e=Object(s.a)(["\n  width: 100%;\n  height: 12.5%;\n\n  padding: 8px 24px;\n  text-align: center;\n\n  color: ",";\n"]);return sn=function(){return e},e}function fn(){var e=Object(s.a)(["\n  background: ",";\n  width: ","px;\n  height: ","px;\n  border-radius: 16px;\n\n  display: flex;\n  flex-direction: column;\n\n  color: ",";\n"]);return fn=function(){return e},e}var hn=a.c.div(fn(),(function(e){return e.theme.colors.backgroundSecondary}),(function(e){return e.width||400}),(function(e){return e.height||400}),(function(e){return e.theme.colors.textSecondary})),mn=a.c.h2(sn(),(function(e){return e.theme.colors.text})),vn=a.c.div(dn()),pn=a.c.div(un()),bn=a.c.div(ln()),gn=Object(a.c)(cn.a)(an()),yn=Object(l.a)((function(){var e=Object(o.useContext)(T).filesStore,n=Object(o.useCallback)((function(n){var t=new FileReader;t.onabort=function(){return console.log("Read aborted")},t.onerror=function(){return console.log("Read failed")},t.onload=function(){var n,o=null===(n=t.result)||void 0===n?void 0:n.toString(),r=void 0!==o&&JSON.parse(o);e.file=r,e.loadFileContent(),e.setModal(!1)},t.readAsText(n[0])}),[e]),t=Object(rn.a)({onDrop:n,accept:"application/json",multiple:!1}),i=t.getRootProps,c=t.getInputProps,a=t.isDragActive;return r.a.createElement(we,{isVisible:e.loadFileModal,onBackdropClick:function(){return e.setModal(!1)}},r.a.createElement(hn,null,r.a.createElement(mn,null,"Load File"),r.a.createElement(vn,null,r.a.createElement("div",i(),r.a.createElement("input",c()),a?r.a.createElement("p",null,"Drop the files here..."):r.a.createElement("p",null,"Drag and drop files / Click here")))))})),xn=Object(l.a)((function(){var e=Object(o.useContext)(T),n=e.nodesStore,t=e.connectionsStore,i=Object(o.useRef)(null),c=function(e){var o=e.inConnections,r=e.outConnections,i=e.text,c=e.type,a=n.activeNode;a.text=i,a.dialogueType=c,r.forEach((function(e){t.addConnection(a.id,e.value)})),"id:rootNode"!==a.id&&o.forEach((function(e){t.addConnection(e.value,a.id)})),n.setActiveNode("",null)};return r.a.createElement(r.a.Fragment,null,r.a.createElement(_e,null),function(){if("delete"===n.activeNodeModal.mode)return r.a.createElement(we,{isVisible:n.showModal,onBackdropClick:function(){return n.setActiveNode("",null)}},r.a.createElement(hn,null,r.a.createElement(mn,null,"Are you sure you want to delete this node?"),r.a.createElement(vn,null,r.a.createElement(v,{onClick:function(){var e;e=n.activeNodeModal.id,n.deleteNode(e),t.removeConnnection(e),n.setActiveNode("",null)}},"Yes"),r.a.createElement(Ae,{width:"100%",height:20}),r.a.createElement(v,{onClick:function(){return n.setActiveNode("",null)}},"No"))));if("edit"===n.activeNodeModal.mode){var e=n.activeNode,o=e.text,a=e.dialogueType,l=function(e){var n=[],o=[];return t.connectionsKeys.forEach((function(r){t.connections[r].fromId===e&&o.push({label:t.connections[r].toId,value:t.connections[r].toId}),t.connections[r].toId===e&&n.push({label:t.connections[r].fromId,value:t.connections[r].fromId})})),{inConnections:n,outConnections:o}}(e.id),u=l.inConnections,d=l.outConnections;return r.a.createElement(we,{isVisible:n.showModal,onBackdropClick:function(){return n.setActiveNode("",null)}},r.a.createElement(hn,{width:1024,height:800},r.a.createElement(mn,null,"Editing ".concat(n.activeNodeModal.id)),r.a.createElement(vn,null,r.a.createElement(gn,{ref:i,onSubmit:c,initialData:{text:o,inConnections:u,outConnections:d,type:a}},r.a.createElement(bn,null,"id:rootNode"===e.id?null:r.a.createElement(Ne,{name:"inConnections",label:"In Connections",multiple:!0,options:n.activeNodeOptions}),r.a.createElement(Ne,{name:"outConnections",label:"Out Connections",multiple:!0,options:n.activeNodeOptions}),r.a.createElement(Ne,{name:"type",label:"Dialogue Type",options:[{label:"Select Dialogue Type...",value:"None"},{label:"Player",value:"Player"},{label:"AICharacter",value:"AICharacter"}]})),r.a.createElement(Ae,{width:"100%",height:20}),r.a.createElement(pn,null,r.a.createElement(on,{name:"text",autoFocus:!0,placeholder:"Dialogue text...",width:960})),r.a.createElement(Ae,{width:"100%",height:30}),r.a.createElement(pn,null,r.a.createElement(v,{onClick:function(){var e;return null===(e=i.current)||void 0===e?void 0:e.submitForm()}},"Save"))))))}return null}(),r.a.createElement(yn,null),r.a.createElement(u.a,{backend:d.a},r.a.createElement(pe,null)))}));function jn(){var e=Object(s.a)(["\n  * {\n    box-sizing: border-box;\n    margin: 0;\n    padding: 0;\n    top: 0;\n    left: 0;\n    font-family: 'Fira Code', monospace;\n  }\n\n  html, body {\n    width: 100vw;\n    height: 100vh;\n    background: ",";\n  }\n\n  #root {\n    width: 100%;\n    height: 100%;\n  }\n\n  #modal-root {\n    width: auto;\n    height: auto;\n    position: absolute;\n    top: 0;\n    left: 0;\n    /* pointer-events: none; */\n    z-index: 1000;\n  }\n"]);return jn=function(){return e},e}var On=Object(a.b)(jn(),(function(e){return e.theme.colors.background}));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(a.a,{theme:x},r.a.createElement(On,null),r.a.createElement(xn,null))),document.getElementById("root"))}},[[59,1,2]]]);
//# sourceMappingURL=main.a38c0be3.chunk.js.map