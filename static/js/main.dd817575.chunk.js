(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{54:function(e,n,t){e.exports=t(69)},67:function(e,n,t){},69:function(e,n,t){"use strict";t.r(n);t(55);var o=t(0),r=t.n(o),i=t(32),a=t.n(i),c=t(3),l=t(9),u=t(87),d=t(33),s=t(5),f=t(48);function h(){var e=Object(s.a)(["\n  background: ",";\n  cursor: pointer;\n\n  border: none;\n  outline: none;\n\n  display: flex;\n  justify-content: center;\n  align-items: center;\n\n  width: 150px;\n  height: 60px;\n  border-radius: 16px;\n\n  color: #fff;\n  font-weight: bold;\n  font-size: 18px;\n\n  :hover {\n    background: ",";\n  }\n"]);return h=function(){return e},e}var m=c.c.button(h(),(function(e){return e.theme.colors.primary}),(function(e){return Object(f.a)(.25,e.theme.colors.primary)})),v=function(e){var n=e.children,t=e.onClick;return r.a.createElement(m,{type:"button",onClick:t},n)},p=t(84),b="node",g=function(e,n,t){var o="translate3d(".concat(e,"px, ").concat(n,"px, 0)");return{position:"absolute",transform:o,WebkitTransform:o,opacity:t?0:1,height:t?0:""}},x=function(e,n){if(!e||!n)return{display:"none"};var t=n.x,o=n.y,r="translate(".concat(t,"px, ").concat(o,"px)");return{transform:r,WebkitTransform:r}},y={name:"dark",colors:{background:"#131417",backgroundSecondary:"#1E1F26",primary:"#3511B8",text:"#fff",textSecondary:"#e7dfdd",accent:"#a239ca",success:"#1B7C16",info:"#0078A8",warning:"#FCA105",danger:"#D81E1E"}},E=function(e){var n=e.from,t=n.x,o=n.y,i=e.to,a=i.x,c=i.y,l=e.markerMid;return r.a.createElement("path",{stroke:y.colors.textSecondary,strokeWidth:2,strokeLinecap:"round",markerUnits:2,d:"M".concat(t+100,",").concat(o+75,"L").concat((t+a+200)/2,",").concat((o+c+150)/2,"L").concat(a+100,",").concat(c+75),markerMid:l})},O=t(7),j=t(13),k=t(10),w=t(20),C=t(11),S=t.n(C),N=t(4),M=function(){function e(n){Object(j.a)(this,e),this.rootStore=void 0,this.connections={},this.rootStore=n}return Object(w.a)(e,[{key:"addConnection",value:function(e,n){var t="".concat(e,"|").concat(n),o=S()(this.connections,Object(k.a)({},t,{$set:{fromId:e,toId:n}}));this.connections=o}},{key:"removeConnnection",value:function(e){var n=this;this.connectionsKeys.forEach((function(t){-1!==t.indexOf(e)&&delete n.connections[t]}))}},{key:"connectionsKeys",get:function(){return Object.keys(this.connections)}}]),e}();Object(N.decorate)(M,{connections:N.observable,addConnection:N.action,removeConnnection:N.action,connectionsKeys:N.computed});var F=M,I=function(){function e(n){Object(j.a)(this,e),this.rootStore=void 0,this.file={},this.loadFileModal=!1,this.rootStore=n}return Object(w.a)(e,[{key:"setModal",value:function(e){this.loadFileModal=e}},{key:"loadFileContent",value:function(){if(this.file){var e={};this.file.connections.forEach((function(n){var t="".concat(n.fromId,"|").concat(n.toId);e=S()(e,Object(k.a)({},t,{$set:{fromId:n.fromId,toId:n.toId}}))})),this.rootStore.nodesStore.nodes=this.file.nodes,this.rootStore.connectionsStore.connections=e}}}]),e}();Object(N.decorate)(I,{file:N.observable,loadFileModal:N.observable,setModal:N.action,loadFileContent:N.action});var D=I,A=function(){function e(n){Object(j.a)(this,e),this.rootStore=void 0,this.nodes={"id:rootNode":{id:"id:rootNode",left:80,top:20,dialogueType:void 0,text:""}},this.activeNodeModal={id:"",mode:null},this.rootStore=n}return Object(w.a)(e,[{key:"updateNodePosition",value:function(e,n,t){this.nodes=S()(this.nodes,Object(k.a)({},e,{$merge:{left:n,top:t}}))}},{key:"addNode",value:function(e,n,t){var o=S()(this.nodes,Object(k.a)({},e,{$set:{left:n,top:t,id:e,dialogueType:void 0,text:""}}));this.nodes=o}},{key:"deleteNode",value:function(e){var n=this;this.nodesKeys.forEach((function(t){t===e&&delete n.nodes[e]}))}},{key:"setActiveNode",value:function(e,n){this.activeNodeModal={id:e,mode:n}}},{key:"reset",value:function(){this.nodes={"id:rootNode":{id:"id:rootNode",left:80,top:20,dialogueType:void 0,text:""}},this.rootStore.connectionsStore.connections={},this.rootStore.filesStore.file={}}},{key:"activeNode",get:function(){return this.nodes[this.activeNodeModal.id]}},{key:"activeNodeOptions",get:function(){var e=this,n=this.nodesKeys.filter((function(n){return n!==e.activeNode.id})),t=[];return n.forEach((function(e){t.push({label:e,value:e})})),t}},{key:"nodesKeys",get:function(){return Object.keys(this.nodes)}},{key:"showModal",get:function(){return""!==this.activeNodeModal.id}}]),e}();Object(N.decorate)(A,{nodes:N.observable,activeNodeModal:N.observable,updateNodePosition:N.action,addNode:N.action,setActiveNode:N.action,reset:N.action,activeNode:N.computed,activeNodeOptions:N.computed,nodesKeys:N.computed,showModal:N.computed});var z=A,T=Object(o.createContext)(new function e(){Object(j.a)(this,e),this.nodesStore=new z(this),this.connectionsStore=new F(this),this.filesStore=new D(this)}),K=t(82),B=t(83);function L(){var e=Object(s.a)(["\n  resize: none;\n  width: 100%;\n  height: 100%;\n  border: none;\n  outline: none;\n  padding: 4px;\n  color: #000;\n  font-size: 12px;\n  font-weight: 500;\n\n  border-bottom-left-radius: 8px;\n  border-bottom-right-radius: 8px;\n"]);return L=function(){return e},e}function R(){var e=Object(s.a)(["\n  width: 60%;\n  height: 100%;\n  margin: 0;\n\n  font-size: 16px;\n  font-weight: bold;\n\n  color: ",";\n"]);return R=function(){return e},e}function V(){var e=Object(s.a)(["\n  width: 100%;\n  height: 30px;\n  background: ",";\n  padding: 4px;\n\n  border-top-left-radius: 8px;\n  border-top-right-radius: 8px;\n\n  display: inline-flex;\n  flex-direction: row;\n\n  cursor: move;\n"]);return V=function(){return e},e}function P(){var e=Object(s.a)(["\n  width: 30px;\n  height: 30px;\n  color: ",";\n\n  cursor: pointer;\n  margin-left: auto;\n"]);return P=function(){return e},e}function J(){var e=Object(s.a)(["\n  width: 30px;\n  height: 30px;\n  color: ",";\n\n  cursor: pointer;\n  margin-left: 4px;\n"]);return J=function(){return e},e}function W(){var e=Object(s.a)(["\n  width: 100%;\n  height: 120px;\n\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  cursor: move;\n\n  border-bottom-left-radius: 8px;\n  border-bottom-right-radius: 8px;\n\n  background: #fefefe;\n  color: #000;\n"]);return W=function(){return e},e}function Y(){var e=Object(s.a)(["\n  width: 200px;\n  height: 150px;\n\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n"]);return Y=function(){return e},e}var $=c.c.div(Y()),U=c.c.div(W()),X=Object(c.c)(K.a)(J(),(function(e){return e.theme.colors.text})),H=Object(c.c)(B.a)(P(),(function(e){return e.theme.colors.text})),q=c.c.div(V(),(function(e){return e.theme.colors.primary})),G=c.c.h5(R(),(function(e){return e.theme.colors.text})),Q=c.c.textarea(L()),Z=Object(l.a)((function(e){var n=e.identifier,t=Object(o.useContext)(T).nodesStore,i=Object(o.useState)(t.nodes[n].text),a=Object(O.a)(i,2),c=a[0],l=a[1],u=function(){t.setActiveNode(n,"edit")};return r.a.createElement($,null,r.a.createElement(q,null,r.a.createElement(G,null,n),r.a.createElement(H,{fontSize:"small",onClick:u}),r.a.createElement(X,{fontSize:"small",onClick:function(){t.setActiveNode(n,"delete")}})),r.a.createElement(U,null,r.a.createElement(Q,{defaultValue:c,placeholder:"Dialogue Text...",onDoubleClick:u,onChange:function(e){return l(e.target.value)},onBlur:function(){t.nodes[n].text=c}})))})),_=function(e){var n=e.identifier;return r.a.createElement("div",null,r.a.createElement(Z,{identifier:n}))},ee=t(88),ne=t(40),te=function(e){var n=e.id,t=e.left,i=e.top,a=Object(ee.a)({item:{type:b,id:n,left:t,top:i},collect:function(e){return{isDragging:e.isDragging()}}}),c=Object(O.a)(a,3),l=c[0].isDragging,u=c[1],d=c[2];return Object(o.useEffect)((function(){d(Object(ne.a)(),{captureDraggingState:!0})}),[d]),r.a.createElement("div",{ref:u,style:g(t,i,l)},r.a.createElement(Z,{identifier:n}))};function oe(){var e=Object(s.a)(["\n  width: 100vw;\n  height: 90vh;\n  left: 0;\n  top: 0;\n  z-index: 100;\n  position: fixed;\n  pointer-events: none;\n"]);return oe=function(){return e},e}function re(){var e=Object(s.a)(["\n  width: 100vw;\n  height: 90vh;\n  position: relative;\n"]);return re=function(){return e},e}var ie=c.c.div(re()),ae=c.c.div(oe()),ce=function(){var e=Object(p.a)((function(e){return{item:e.getItem(),itemType:e.getItemType(),initialOffset:e.getInitialSourceClientOffset(),currentOffset:e.getSourceClientOffset(),isDragging:e.isDragging()}})),n=e.itemType,t=e.isDragging,o=e.item,i=e.initialOffset,a=e.currentOffset;return t?r.a.createElement(ae,null,r.a.createElement("div",{style:x(i,a)},function(){switch(n){case b:return r.a.createElement(_,{identifier:o.id});default:return null}}())):null},le=t(89);function ue(){var e=Object(s.a)(["\n  background: #fff;\n  border-bottom: ",";\n  padding: 5px 25px;\n\n  cursor: pointer;\n\n  :hover {\n    background: #f1f1f1;\n  }\n"]);return ue=function(){return e},e}function de(){var e=Object(s.a)(["\n  position: absolute;\n  top: ","px;\n  left: ","px;\n\n  z-index: 300;\n"]);return de=function(){return e},e}var se=c.c.div(de(),(function(e){return e.y}),(function(e){return e.x+5})),fe=c.c.div(ue(),(function(e){return e.last?null:"dotted 1px #ccc"})),he=function(e){var n=e.options,t=e.visible,i=e.changeVisibility,a=Object(o.useState)({x:0,y:0}),c=Object(O.a)(a,2),l=c[0],u=c[1],d=function(e){e.preventDefault();var n=e.clientX,t=e.clientY;u({x:n,y:t})};return Object(o.useEffect)((function(){return document.addEventListener("contextmenu",d),function(){document.removeEventListener("contextmenu",d)}}),[]),t?r.a.createElement(se,{x:l.x,y:l.y},n.map((function(e,n,t){return r.a.createElement(fe,{key:n.toString(),last:t.length-1===n,onClick:function(n){e.callback&&e.callback(n),function(e){e.preventDefault(),i(!1),u({x:0,y:0})}(n)}},e.label)}))):null},me=Object(o.memo)(Object(l.a)((function(){var e=Object(o.useContext)(T),n=e.nodesStore,t=e.connectionsStore;return r.a.createElement("svg",{width:"100%",height:"100%",style:{zIndex:400}},r.a.createElement("defs",null,r.a.createElement("marker",{id:"arrowhead",markerWidth:"10",markerHeight:"7",fill:y.colors.textSecondary,refX:"0",refY:"3.5",orient:"auto"},r.a.createElement("polygon",{points:"0 0, 10 3.5, 0 7"}))),t.connectionsKeys.length>0?t.connectionsKeys.map((function(e){var o=t.connections[e],i=n.nodes[o.fromId],a=n.nodes[o.toId];if(void 0===i||void 0===a)return null;var c={x:i.left,y:i.top},l={x:a.left,y:a.top};return r.a.createElement(E,{key:"".concat(o.fromId).concat(o.toId),from:c,to:l,markerMid:"url(#arrowhead)"})})):null)}))),ve=Object(l.a)((function(){var e=Object(o.useContext)(T),n=e.nodesStore,t=e.filesStore,i=Object(o.useState)(!1),a=Object(O.a)(i,2),c=a[0],l=a[1],u=Object(o.useState)(n.nodesKeys.length),d=Object(O.a)(u,2),s=d[0],f=d[1],h=Object(o.useCallback)((function(e,t,o){n.updateNodePosition(e,t,o)}),[n]),m=Object(le.a)({accept:b,drop:function(e,n){var t=n.getDifferenceFromInitialOffset(),o=Math.round(e.left+t.x),r=Math.round(e.top+t.y);h(e.id,o,r)}}),v=Object(O.a)(m,2)[1];return n.showModal||t.loadFileModal?null:r.a.createElement(r.a.Fragment,null,r.a.createElement(he,{options:[{label:"New Node",callback:function(e){var t,o,r,i="id:node".concat(s),a=e.clientX-100,c=e.clientY-75;t=i,o=a,r=c,f(s+1),n.addNode(t,o,r)}},{label:"Load File",callback:function(){t.setModal(!0)}},{label:"Close"}],visible:c,changeVisibility:l}),r.a.createElement(ie,{ref:v,onContextMenu:function(){return l(!0)},onClick:function(){return l(!1)}},n.nodesKeys.map((function(e){return function(e,n){return r.a.createElement(te,Object.assign({key:n,id:n},e))}(n.nodes[e],e)})),r.a.createElement(me,null)))})),pe=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(ve,null),r.a.createElement(ce,null))};function be(){var e=Object(s.a)(["\n  position: absolute;\n  background: transparent;\n  width: auto;\n  height: auto;\n\n  display: flex;\n  justify-content: center;\n  align-items: center;\n\n  z-index: 300;\n  top: 50%;\n  left: 50%;\n  margin-right: -50%;\n  transform: translate(-50%, -50%);\n"]);return be=function(){return e},e}function ge(){var e=Object(s.a)(["\n  background: rgba(10, 10, 10, 0.5);\n  width: 100vw;\n  height: 100vh;\n\n  position: absolute;\n  top: 0;\n  left: 0;\n"]);return ge=function(){return e},e}var xe=c.c.div(ge()),ye=c.c.div(be()),Ee=function(e){var n=e.children,t=e.show,o=e.onBackdropClick,i=e.showBackdrop,a=void 0===i||i;return t?r.a.createElement(r.a.Fragment,null,a?r.a.createElement(xe,{onClick:o}):null,r.a.createElement(ye,null,n)):null},Oe=(t(67),t(18)),je=t(50),ke=function(e){var n=e.name,t=e.multiple,i=e.options,a=e.placeholder,c=e.label,l=Object(o.useState)([]),u=Object(O.a)(l,2),d=u[0],s=u[1],f=Object(o.useRef)(null),h=Object(Oe.c)(n),m=h.fieldName,v=h.registerField,p=h.defaultValue;Object(o.useEffect)((function(){v({name:m,ref:f.current,getValue:function(){return t?d:d[0]},setValue:function(e,n){t||s([n])}})}),[v,m,t,d]),Object(o.useEffect)((function(){p&&t&&s(p)}),[p,t]);return t?r.a.createElement("div",{className:"select-group"},c&&r.a.createElement("label",{htmlFor:m},c),r.a.createElement(je.a,{options:i,value:d,onChange:s,hasSelectAll:!1,labelledBy:"Select"})):r.a.createElement("div",{className:"select-group"},c&&r.a.createElement("label",{htmlFor:m},c),r.a.createElement("select",{ref:f,value:d[0],onChange:function(e){if(!t){var n=[];n.push(e.target.value),s(n)}},className:"multi-select single",placeholder:a,defaultValue:p},i.map((function(e){return r.a.createElement("option",{key:e.value,value:e.value},e.label)}))))},we=t(36),Ce=t.n(we),Se=t(45);function Ne(){var e=Object(s.a)(["\n  width: ",";\n\n  height: ",";\n"]);return Ne=function(){return e},e}var Me=c.c.div(Ne(),(function(e){return"string"===typeof e.width?e.width:"".concat(e.width,"px")}),(function(e){return"string"===typeof e.height?e.height:"".concat(e.height,"px")})),Fe=t(85),Ie=t(86);function De(){var e=Object(s.a)(["\n  position: absolute;\n  z-index: 400;\n  top: 10vh;\n  left: 0;\n  width: 15vw;\n  height: 90vh;\n\n  background: ",";\n"]);return De=function(){return e},e}function Ae(){var e=Object(s.a)(["\n  color: white;\n  cursor: pointer;\n"]);return Ae=function(){return e},e}function ze(){var e=Object(s.a)(["\n  color: white;\n  cursor: pointer;\n"]);return ze=function(){return e},e}function Te(){var e=Object(s.a)(["\n  width: 100%;\n  height: 10vh;\n  display: flex;\n  justify-content: flex-start;\n  align-items: center;\n\n  padding: 16px 32px;\n  background: ",";\n\n  font-size: 30px;\n  position: sticky;\n"]);return Te=function(){return e},e}function Ke(){var e=Object(s.a)(["\n  width: 100%;\n  height: auto;\n\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n\n  padding: 16px;\n"]);return Ke=function(){return e},e}function Be(){var e=Object(s.a)(["\n  height: 100%;\n\n  display: flex;\n  justify-content: center;\n  align-items: center;\n\n  font-size: 0.8em;\n  font-weight: bold;\n\n  color: ",";\n"]);return Be=function(){return e},e}var Le=c.c.div(Be(),(function(e){return e.theme.colors.text})),Re=c.c.div(Ke()),Ve=c.c.div(Te(),(function(e){return e.theme.colors.backgroundSecondary})),Pe=Object(c.c)(Fe.a)(ze()),Je=Object(c.c)(Ie.a)(Ae()),We=c.c.div(De(),(function(e){return e.theme.colors.backgroundSecondary})),Ye=Object(l.a)((function(){var e=Object(o.useState)(!1),n=Object(O.a)(e,2),t=n[0],i=n[1],a=Object(o.useContext)(T),c=a.nodesStore,l=a.connectionsStore,u=a.filesStore,d=function(){var e=[];l.connectionsKeys.forEach((function(n){e.push(Object(N.toJS)(l.connections[n]))}));var n={name:"NewFile",createdAt:Date.now(),nodes:c.nodes,connections:e};u.file=n},s=function(){var e=Object(Se.a)(Ce.a.mark((function e(){var n,t,o,r;return Ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d(),n=JSON.stringify(u.file),t=new Blob([n],{type:"application/json"}),e.next=5,URL.createObjectURL(t);case 5:o=e.sent,(r=document.createElement("a")).href=o,r.download=u.file.name+".json",document.body.appendChild(r),r.click(),document.body.removeChild(r);case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),f=function(){i(!t)};return r.a.createElement(r.a.Fragment,null,r.a.createElement(Ve,null,t?r.a.createElement(Je,{fontSize:"inherit",onClick:f}):r.a.createElement(Pe,{fontSize:"inherit",onClick:f}),r.a.createElement(Me,{width:32,height:"100%"}),r.a.createElement(Le,null,"Dialogue Editor")),t?r.a.createElement(We,null,r.a.createElement(Re,null,r.a.createElement(v,{onClick:function(){c.reset(),c.setActiveNode("",null)}},"Clear"),r.a.createElement(Me,{width:"100%",height:20}),r.a.createElement(v,{onClick:s},"Download"),r.a.createElement(Me,{width:"100%",height:20}),r.a.createElement(v,{onClick:function(){return u.setModal(!0)}},"Load File"))):null)})),$e=t(51),Ue=function(e){var n=e.name,t=e.label,i=e.width,a=void 0===i?400:i,c=e.height,l=void 0===c?400:c,u=Object($e.a)(e,["name","label","width","height"]),d=Object(o.useRef)(null),s=Object(Oe.c)(n),f=s.fieldName,h=s.defaultValue,m=s.registerField,v=s.error;return Object(o.useEffect)((function(){m({name:f,path:"value",ref:d.current})}),[f,m]),r.a.createElement("div",null,t?r.a.createElement("label",{htmlFor:f},t):null,r.a.createElement("textarea",Object.assign({id:f,ref:d,defaultValue:h,style:{width:a,height:l,fontSize:18,padding:10,resize:"none",outline:"none"},autoCorrect:"off",autoComplete:"off"},u)),v?r.a.createElement("span",null,v):null)},Xe=t(49),He=t(47);function qe(){var e=Object(s.a)(["\n  width: 100%;\n  height: 100%;\n\n  padding: 24px;\n"]);return qe=function(){return e},e}function Ge(){var e=Object(s.a)(["\n  width: 100%;\n  height: auto;\n\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  align-items: center;\n"]);return Ge=function(){return e},e}function Qe(){var e=Object(s.a)(["\n  width: 100%;\n  height: auto;\n\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"]);return Qe=function(){return e},e}function Ze(){var e=Object(s.a)(["\n  width: 100%;\n  height: 87.5%;\n\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n"]);return Ze=function(){return e},e}function _e(){var e=Object(s.a)(["\n  width: 100%;\n  height: 12.5%;\n\n  padding: 8px 24px;\n  text-align: center;\n\n  color: ",";\n"]);return _e=function(){return e},e}function en(){var e=Object(s.a)(["\n  background: ",";\n  width: ","px;\n  height: ","px;\n  border-radius: 16px;\n\n  display: flex;\n  flex-direction: column;\n\n  color: ",";\n"]);return en=function(){return e},e}var nn=c.c.div(en(),(function(e){return e.theme.colors.backgroundSecondary}),(function(e){return e.width||400}),(function(e){return e.height||400}),(function(e){return e.theme.colors.textSecondary})),tn=c.c.h2(_e(),(function(e){return e.theme.colors.text})),on=c.c.div(Ze()),rn=c.c.div(Qe()),an=c.c.div(Ge()),cn=Object(c.c)(He.a)(qe()),ln=Object(l.a)((function(){var e=Object(o.useContext)(T).filesStore,n=Object(o.useCallback)((function(n){var t=new FileReader;t.onabort=function(){return console.log("Read aborted")},t.onerror=function(){return console.log("Read failed")},t.onload=function(){var n,o=null===(n=t.result)||void 0===n?void 0:n.toString(),r=void 0!==o&&JSON.parse(o);e.file=r,e.loadFileContent(),e.setModal(!1)},t.readAsText(n[0])}),[e]),t=Object(Xe.a)({onDrop:n,accept:"application/json",multiple:!1}),i=t.getRootProps,a=t.getInputProps,c=t.isDragActive;return r.a.createElement(Ee,{show:e.loadFileModal,onBackdropClick:function(){return e.setModal(!1)}},r.a.createElement(nn,null,r.a.createElement(tn,null,"Load File"),r.a.createElement(on,null,r.a.createElement("div",i(),r.a.createElement("input",a()),c?r.a.createElement("p",null,"Drop the files here..."):r.a.createElement("p",null,"Drag and drop files / Click here")))))})),un=Object(l.a)((function(){var e=Object(o.useContext)(T),n=e.nodesStore,t=e.connectionsStore,i=Object(o.useRef)(null),a=function(e){var o=e.inConnections,r=e.outConnections,i=e.text,a=e.type,c=n.activeNode;c.text=i,c.dialogueType=a,r.forEach((function(e){t.addConnection(c.id,e.value)})),"id:rootNode"!==c.id&&o.forEach((function(e){t.addConnection(e.value,c.id)})),n.setActiveNode("",null)};return r.a.createElement(r.a.Fragment,null,r.a.createElement(Ye,null),function(){if("delete"===n.activeNodeModal.mode)return r.a.createElement(Ee,{show:n.showModal,onBackdropClick:function(){return n.setActiveNode("",null)}},r.a.createElement(nn,null,r.a.createElement(tn,null,"Are you sure you want to delete this node?"),r.a.createElement(on,null,r.a.createElement(v,{onClick:function(){var e;e=n.activeNodeModal.id,n.deleteNode(e),t.removeConnnection(e),n.setActiveNode("",null)}},"Yes"),r.a.createElement(Me,{width:"100%",height:20}),r.a.createElement(v,{onClick:function(){return n.setActiveNode("",null)}},"No"))));if("edit"===n.activeNodeModal.mode){var e=n.activeNode,o=e.text,c=e.dialogueType,l=function(e){var n=[],o=[];return t.connectionsKeys.forEach((function(r){t.connections[r].fromId===e&&o.push({label:t.connections[r].toId,value:t.connections[r].toId}),t.connections[r].toId===e&&n.push({label:t.connections[r].fromId,value:t.connections[r].fromId})})),{inConnections:n,outConnections:o}}(e.id),u=l.inConnections,d=l.outConnections;return r.a.createElement(Ee,{show:n.showModal,onBackdropClick:function(){return n.setActiveNode("",null)}},r.a.createElement(nn,{width:1024,height:800},r.a.createElement(tn,null,"Editing ".concat(n.activeNodeModal.id)),r.a.createElement(on,null,r.a.createElement(cn,{ref:i,onSubmit:a,initialData:{text:o,inConnections:u,outConnections:d,type:c}},r.a.createElement(an,null,"id:rootNode"===e.id?null:r.a.createElement(ke,{name:"inConnections",label:"In Connections",multiple:!0,options:n.activeNodeOptions}),r.a.createElement(ke,{name:"outConnections",label:"Out Connections",multiple:!0,options:n.activeNodeOptions}),r.a.createElement(ke,{name:"type",label:"Dialogue Type",options:[{label:"Select Dialogue Type...",value:"None"},{label:"Player",value:"Player"},{label:"AICharacter",value:"AICharacter"}]})),r.a.createElement(Me,{width:"100%",height:20}),r.a.createElement(rn,null,r.a.createElement(Ue,{name:"text",autoFocus:!0,placeholder:"Dialogue text",width:960})),r.a.createElement(Me,{width:"100%",height:30}),r.a.createElement(rn,null,r.a.createElement(v,{onClick:function(){var e;return null===(e=i.current)||void 0===e?void 0:e.submitForm()}},"Save"))))))}return null}(),r.a.createElement(ln,null),r.a.createElement(u.a,{backend:d.a},r.a.createElement(pe,null)))}));function dn(){var e=Object(s.a)(["\n  * {\n    box-sizing: border-box;\n    margin: 0;\n    padding: 0;\n    top: 0;\n    left: 0;\n    font-family: 'Fira Code', monospace;\n  }\n\n  html, body {\n    width: 100vw;\n    height: 100vh;\n    background: ",";\n  }\n\n  #root {\n    width: 100%;\n    height: 100%;\n  }\n"]);return dn=function(){return e},e}var sn=Object(c.b)(dn(),(function(e){return e.theme.colors.background}));a.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(c.a,{theme:y},r.a.createElement(sn,null),r.a.createElement(un,null))),document.getElementById("root"))}},[[54,1,2]]]);
//# sourceMappingURL=main.dd817575.chunk.js.map